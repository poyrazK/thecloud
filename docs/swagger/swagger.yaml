definitions:
  domain.APIKey:
    properties:
      created_at:
        type: string
      id:
        type: string
      key:
        description: The actual secret key
        type: string
      last_used:
        type: string
      name:
        type: string
      user_id:
        type: string
    type: object
  domain.AuditLog:
    properties:
      action:
        description: The action performed (e.g., "instance:launch")
        type: string
      created_at:
        type: string
      details:
        additionalProperties: true
        description: Additional context about the action
        type: object
      id:
        type: string
      ip_address:
        description: Originating IP of the request
        type: string
      resource_id:
        description: ID of the affected resource
        type: string
      resource_type:
        description: Type of affected resource (e.g., "INSTANCE")
        type: string
      user_agent:
        description: Browser or CLI identifier
        type: string
      user_id:
        description: The user who performed the action
        type: string
    type: object
  domain.BillSummary:
    properties:
      currency:
        description: ISO 4217 code (e.g. "USD")
        type: string
      period_end:
        type: string
      period_start:
        type: string
      total_amount:
        type: number
      usage_by_type:
        additionalProperties:
          format: float64
          type: number
        type: object
      user_id:
        type: string
    type: object
  domain.DashboardStats:
    properties:
      cpu_history:
        description: Normalized CPU utilization over time
        items:
          $ref: '#/definitions/domain.MetricPoint'
        type: array
      memory_history:
        description: Normalized memory utilization over time
        items:
          $ref: '#/definitions/domain.MetricPoint'
        type: array
      recent_events:
        description: Latest audit/system events
        items:
          $ref: '#/definitions/domain.Event'
        type: array
      summary:
        $ref: '#/definitions/domain.ResourceSummary'
    type: object
  domain.Event:
    properties:
      action:
        description: High-level action identifier (e.g., "INSTANCE_LAUNCH")
        type: string
      created_at:
        type: string
      id:
        type: string
      metadata:
        description: Arbitrary event-specific JSON data
      resource_id:
        description: Uniquely identifies the affected resource
        type: string
      resource_type:
        description: Classification of the resource (e.g., "INSTANCE", "VPC")
        type: string
      user_id:
        type: string
    type: object
  domain.Image:
    properties:
      created_at:
        type: string
      description:
        type: string
      file_path:
        description: Path in object storage/filesystem
        type: string
      format:
        description: e.g. "qcow2", "iso"
        type: string
      id:
        type: string
      is_public:
        description: If true, available to all users
        type: boolean
      name:
        type: string
      os:
        description: e.g. "ubuntu", "centos"
        type: string
      size_gb:
        description: Minimum disk size required
        type: integer
      status:
        $ref: '#/definitions/domain.ImageStatus'
      updated_at:
        type: string
      user_id:
        description: Owner (nil for system images if handled)
        type: string
      version:
        description: e.g. "22.04"
        type: string
    type: object
  domain.ImageStatus:
    enum:
    - PENDING
    - ACTIVE
    - ERROR
    - DELETING
    type: string
    x-enum-varnames:
    - ImageStatusPending
    - ImageStatusActive
    - ImageStatusError
    - ImageStatusDeleting
  domain.Instance:
    properties:
      container_id:
        description: Backend identifier
        type: string
      created_at:
        type: string
      id:
        type: string
      image:
        description: Container/VM image
        type: string
      name:
        description: Unique per user
        type: string
      ovs_port:
        description: OVS port name
        type: string
      ports:
        description: '"host:container" mappings'
        type: string
      private_ip:
        description: VPC private IP
        type: string
      status:
        $ref: '#/definitions/domain.InstanceStatus'
      subnet_id:
        type: string
      updated_at:
        type: string
      user_id:
        description: Owner for multi-tenancy
        type: string
      version:
        description: Optimistic locking
        type: integer
      vpc_id:
        description: Optional VPC attachment
        type: string
    type: object
  domain.InstanceStats:
    properties:
      cpu_percentage:
        type: number
      memory_limit_bytes:
        type: number
      memory_percentage:
        type: number
      memory_usage_bytes:
        type: number
    type: object
  domain.InstanceStatus:
    enum:
    - STARTING
    - RUNNING
    - STOPPED
    - ERROR
    - DELETED
    type: string
    x-enum-varnames:
    - StatusStarting
    - StatusRunning
    - StatusStopped
    - StatusError
    - StatusDeleted
  domain.LBStatus:
    enum:
    - CREATING
    - ACTIVE
    - DRAINING
    - DELETED
    type: string
    x-enum-varnames:
    - LBStatusCreating
    - LBStatusActive
    - LBStatusDraining
    - LBStatusDeleted
  domain.LBTarget:
    properties:
      health:
        description: '"healthy" | "unhealthy" | "unknown"'
        type: string
      id:
        type: string
      instance_id:
        type: string
      lb_id:
        type: string
      port:
        type: integer
      weight:
        description: Traffic share for weighted algorithms
        type: integer
    type: object
  domain.LoadBalancer:
    properties:
      algorithm:
        description: '"round-robin" | "least-conn"'
        type: string
      created_at:
        type: string
      id:
        type: string
      idempotency_key:
        type: string
      name:
        type: string
      port:
        description: Listener port (e.g. 80)
        type: integer
      status:
        $ref: '#/definitions/domain.LBStatus'
      user_id:
        type: string
      version:
        description: Optimistic locking
        type: integer
      vpc_id:
        type: string
    type: object
  domain.MetricPoint:
    properties:
      label:
        description: Optional category or identifier (e.g., "avg", "max")
        type: string
      timestamp:
        type: string
      value:
        description: The measured value (e.g., percentage or byte count)
        type: number
    type: object
  domain.Object:
    properties:
      arn:
        type: string
      bucket:
        type: string
      content_type:
        type: string
      created_at:
        type: string
      deleted_at:
        type: string
      id:
        type: string
      key:
        type: string
      size_bytes:
        type: integer
      user_id:
        type: string
    type: object
  domain.Permission:
    enum:
    - instance:launch
    - instance:terminate
    - instance:read
    - instance:update
    - vpc:create
    - vpc:delete
    - vpc:read
    - vpc:update
    - volume:create
    - volume:delete
    - volume:read
    - snapshot:create
    - snapshot:delete
    - snapshot:read
    - snapshot:restore
    - lb:create
    - lb:delete
    - lb:read
    - lb:update
    - db:create
    - db:delete
    - db:read
    - secret:create
    - secret:delete
    - secret:read
    - function:invoke
    - function:create
    - function:delete
    - function:read
    - cache:create
    - cache:delete
    - cache:read
    - cache:update
    - queue:create
    - queue:delete
    - queue:read
    - queue:write
    - notify:create
    - notify:delete
    - notify:read
    - notify:publish
    - cron:create
    - cron:delete
    - cron:read
    - cron:update
    - gateway:create
    - gateway:delete
    - gateway:read
    - stack:create
    - stack:delete
    - stack:read
    - as:create
    - as:delete
    - as:read
    - as:update
    - container:create
    - container:delete
    - container:read
    - container:scale
    - image:create
    - image:read
    - image:delete
    - '*'
    type: string
    x-enum-varnames:
    - PermissionInstanceLaunch
    - PermissionInstanceTerminate
    - PermissionInstanceRead
    - PermissionInstanceUpdate
    - PermissionVpcCreate
    - PermissionVpcDelete
    - PermissionVpcRead
    - PermissionVpcUpdate
    - PermissionVolumeCreate
    - PermissionVolumeDelete
    - PermissionVolumeRead
    - PermissionSnapshotCreate
    - PermissionSnapshotDelete
    - PermissionSnapshotRead
    - PermissionSnapshotRestore
    - PermissionLbCreate
    - PermissionLbDelete
    - PermissionLbRead
    - PermissionLbUpdate
    - PermissionDBCreate
    - PermissionDBDelete
    - PermissionDBRead
    - PermissionSecretCreate
    - PermissionSecretDelete
    - PermissionSecretRead
    - PermissionFunctionInvoke
    - PermissionFunctionCreate
    - PermissionFunctionDelete
    - PermissionFunctionRead
    - PermissionCacheCreate
    - PermissionCacheDelete
    - PermissionCacheRead
    - PermissionCacheUpdate
    - PermissionQueueCreate
    - PermissionQueueDelete
    - PermissionQueueRead
    - PermissionQueueWrite
    - PermissionNotifyCreate
    - PermissionNotifyDelete
    - PermissionNotifyRead
    - PermissionNotifyWrite
    - PermissionCronCreate
    - PermissionCronDelete
    - PermissionCronRead
    - PermissionCronUpdate
    - PermissionGatewayCreate
    - PermissionGatewayDelete
    - PermissionGatewayRead
    - PermissionStackCreate
    - PermissionStackDelete
    - PermissionStackRead
    - PermissionAsCreate
    - PermissionAsDelete
    - PermissionAsRead
    - PermissionAsUpdate
    - PermissionContainerCreate
    - PermissionContainerDelete
    - PermissionContainerRead
    - PermissionContainerUpdate
    - PermissionImageCreate
    - PermissionImageRead
    - PermissionImageDelete
    - PermissionFullAccess
  domain.ResourceSummary:
    properties:
      attached_volumes:
        description: Volumes currently mounted to instances
        type: integer
      running_instances:
        description: Instances currently in a RUNNING state
        type: integer
      stopped_instances:
        description: Instances currently in a STOPPED state
        type: integer
      total_instances:
        description: All compute instances regardless of state
        type: integer
      total_storage_mb:
        description: Aggregate storage allocated across all volumes
        type: integer
      total_volumes:
        description: Total number of block storage volumes
        type: integer
      total_vpcs:
        description: Total number of virtual private clouds
        type: integer
    type: object
  domain.ResourceType:
    enum:
    - INSTANCE
    - STORAGE
    - NETWORK
    type: string
    x-enum-varnames:
    - ResourceInstance
    - ResourceStorage
    - ResourceNetwork
  domain.Role:
    properties:
      description:
        type: string
      id:
        type: string
      name:
        type: string
      permissions:
        items:
          $ref: '#/definitions/domain.Permission'
        type: array
    type: object
  domain.RuleDirection:
    enum:
    - ingress
    - egress
    type: string
    x-enum-varnames:
    - RuleIngress
    - RuleEgress
  domain.ScalingGroup:
    properties:
      created_at:
        type: string
      current_count:
        description: Actual number of instances
        type: integer
      desired_count:
        description: Target number of instances
        type: integer
      failure_count:
        description: Consecutive failure tracker
        type: integer
      id:
        type: string
      idempotency_key:
        description: For safe retries
        type: string
      image:
        description: Instance image (e.g. "nginx")
        type: string
      last_failure_at:
        type: string
      load_balancer_id:
        description: Optional LB integration
        type: string
      max_instances:
        description: Ceiling for scaling
        type: integer
      min_instances:
        description: Floor for scaling
        type: integer
      name:
        type: string
      ports:
        description: Ports exposed by instances
        type: string
      status:
        $ref: '#/definitions/domain.ScalingGroupStatus'
      updated_at:
        type: string
      user_id:
        type: string
      version:
        description: Optimistic locking
        type: integer
      vpc_id:
        type: string
    type: object
  domain.ScalingGroupStatus:
    enum:
    - ACTIVE
    - UPDATING
    - DELETING
    - DELETED
    type: string
    x-enum-varnames:
    - ScalingGroupStatusActive
    - ScalingGroupStatusUpdating
    - ScalingGroupStatusDeleting
    - ScalingGroupStatusDeleted
  domain.ScalingPolicy:
    properties:
      cooldown_sec:
        description: Wait time after scaling
        type: integer
      id:
        type: string
      last_scaled_at:
        type: string
      metric_type:
        description: '"cpu" | "memory"'
        type: string
      name:
        type: string
      scale_in_step:
        description: Instances to remove
        type: integer
      scale_out_step:
        description: Instances to add
        type: integer
      scaling_group_id:
        type: string
      target_value:
        description: Threshold (e.g. 80.0 for 80%)
        type: number
    type: object
  domain.SecurityGroup:
    properties:
      arn:
        description: Unique identifier (arn:thecloud:vpc:{region}:{user}:sg/{name})
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      rules:
        items:
          $ref: '#/definitions/domain.SecurityRule'
        type: array
      user_id:
        type: string
      vpc_id:
        type: string
    type: object
  domain.SecurityRule:
    properties:
      cidr:
        description: Targeted IPv4 range (e.g., "0.0.0.0/0")
        type: string
      created_at:
        type: string
      direction:
        $ref: '#/definitions/domain.RuleDirection'
      group_id:
        type: string
      id:
        type: string
      port_max:
        type: integer
      port_min:
        type: integer
      priority:
        description: Evaluation order (lower values evaluated first)
        type: integer
      protocol:
        description: Traffic protocol (e.g., "tcp", "udp", "icmp", "all")
        type: string
    type: object
  domain.Snapshot:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      size_gb:
        description: Size at snapshot time
        type: integer
      status:
        $ref: '#/definitions/domain.SnapshotStatus'
      user_id:
        type: string
      volume_id:
        description: Source volume ID
        type: string
      volume_name:
        description: Source volume name (snapshot time)
        type: string
    type: object
  domain.SnapshotStatus:
    enum:
    - CREATING
    - AVAILABLE
    - DELETING
    - ERROR
    type: string
    x-enum-varnames:
    - SnapshotStatusCreating
    - SnapshotStatusAvailable
    - SnapshotStatusDeleting
    - SnapshotStatusError
  domain.Stack:
    properties:
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      parameters:
        type: string
      resources:
        items:
          $ref: '#/definitions/domain.StackResource'
        type: array
      status:
        $ref: '#/definitions/domain.StackStatus'
      status_reason:
        type: string
      template:
        description: Raw YAML or JSON
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  domain.StackResource:
    properties:
      created_at:
        type: string
      id:
        type: string
      logical_id:
        description: ID in template (e.g. "MyDatabase")
        type: string
      physical_id:
        description: Real ID in system (e.g. UUID)
        type: string
      resource_type:
        description: e.g. "AWS::EC2::Instance" or internal type
        type: string
      stack_id:
        type: string
      status:
        type: string
    type: object
  domain.StackStatus:
    enum:
    - CREATE_IN_PROGRESS
    - CREATE_COMPLETE
    - CREATE_FAILED
    - DELETE_IN_PROGRESS
    - DELETE_COMPLETE
    - DELETE_FAILED
    - ROLLBACK_IN_PROGRESS
    - ROLLBACK_COMPLETE
    - ROLLBACK_FAILED
    type: string
    x-enum-varnames:
    - StackStatusCreateInProgress
    - StackStatusCreateComplete
    - StackStatusCreateFailed
    - StackStatusDeleteInProgress
    - StackStatusDeleteComplete
    - StackStatusDeleteFailed
    - StackStatusRollbackInProgress
    - StackStatusRollbackComplete
    - StackStatusRollbackFailed
  domain.TemplateValidateResponse:
    properties:
      errors:
        items:
          type: string
        type: array
      parameters:
        description: Derived parameters needed
        items:
          type: string
        type: array
      valid:
        type: boolean
    type: object
  domain.UsageRecord:
    properties:
      end_time:
        type: string
      id:
        type: string
      quantity:
        description: Amount consumed (e.g. 60)
        type: number
      resource_id:
        type: string
      resource_type:
        $ref: '#/definitions/domain.ResourceType'
      start_time:
        type: string
      unit:
        description: Unit of measure (e.g. "minutes")
        type: string
      user_id:
        type: string
    type: object
  domain.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      role:
        description: '"admin" or "user"'
        type: string
      updated_at:
        type: string
    type: object
  domain.VPC:
    properties:
      arn:
        description: Amazon Resource Name compatible ID
        type: string
      cidr_block:
        description: IPv4 range (e.g. "10.0.0.0/16")
        type: string
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      network_id:
        description: OVS bridge name or backend ID
        type: string
      status:
        description: e.g. "ACTIVE"
        type: string
      user_id:
        type: string
      vxlan_id:
        description: Tunnel ID for isolation
        type: integer
    type: object
  domain.Volume:
    properties:
      backend_path:
        description: Physical path on host/storage
        type: string
      created_at:
        type: string
      id:
        type: string
      instance_id:
        description: Attached instance
        type: string
      mount_path:
        description: Internal mount point
        type: string
      name:
        type: string
      size_gb:
        type: integer
      status:
        $ref: '#/definitions/domain.VolumeStatus'
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  domain.VolumeStatus:
    enum:
    - AVAILABLE
    - IN-USE
    - DELETING
    type: string
    x-enum-varnames:
    - VolumeStatusAvailable
    - VolumeStatusInUse
    - VolumeStatusDeleting
  httphandlers.AddPermissionRequest:
    properties:
      permission:
        $ref: '#/definitions/domain.Permission'
    required:
    - permission
    type: object
  httphandlers.AddTargetRequest:
    properties:
      instance_id:
        type: string
      port:
        type: integer
      weight:
        type: integer
    required:
    - instance_id
    - port
    type: object
  httphandlers.AttachDetachSGRequest:
    properties:
      group_id:
        type: string
      instance_id:
        type: string
    required:
    - group_id
    - instance_id
    type: object
  httphandlers.BindRoleRequest:
    properties:
      role_name:
        type: string
      user_identifier:
        type: string
    required:
    - role_name
    - user_identifier
    type: object
  httphandlers.CreateASPolicyRequest:
    properties:
      cooldown_sec:
        type: integer
      metric_type:
        type: string
      name:
        type: string
      scale_in_step:
        type: integer
      scale_out_step:
        type: integer
      target_value:
        type: number
    required:
    - cooldown_sec
    - metric_type
    - name
    - scale_in_step
    - scale_out_step
    - target_value
    type: object
  httphandlers.CreateGroupRequest:
    properties:
      desired_count:
        type: integer
      image:
        type: string
      load_balancer_id:
        type: string
      max_instances:
        type: integer
      min_instances:
        description: 0 is valid
        type: integer
      name:
        type: string
      ports:
        type: string
      vpc_id:
        type: string
    required:
    - desired_count
    - image
    - max_instances
    - name
    - vpc_id
    type: object
  httphandlers.CreateKeyRequest:
    properties:
      name:
        type: string
    required:
    - name
    type: object
  httphandlers.CreateLBRequest:
    properties:
      algorithm:
        type: string
      name:
        type: string
      port:
        type: integer
      vpc_id:
        type: string
    required:
    - name
    - port
    - vpc_id
    type: object
  httphandlers.CreateRoleRequest:
    properties:
      description:
        type: string
      name:
        type: string
      permissions:
        items:
          $ref: '#/definitions/domain.Permission'
        type: array
    required:
    - name
    type: object
  httphandlers.CreateSecurityGroupRequest:
    properties:
      description:
        type: string
      name:
        type: string
      vpc_id:
        type: string
    required:
    - name
    - vpc_id
    type: object
  httphandlers.CreateSnapshotRequest:
    properties:
      description:
        type: string
      volume_id:
        type: string
    required:
    - volume_id
    type: object
  httphandlers.CreateStackRequest:
    properties:
      name:
        type: string
      parameters:
        additionalProperties:
          type: string
        type: object
      template:
        type: string
    required:
    - name
    - template
    type: object
  httphandlers.CreateVolumeRequest:
    properties:
      name:
        maxLength: 64
        minLength: 3
        type: string
      size_gb:
        maximum: 16000
        minimum: 1
        type: integer
    required:
    - name
    - size_gb
    type: object
  httphandlers.ForgotPasswordRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  httphandlers.LaunchRequest:
    properties:
      image:
        type: string
      name:
        type: string
      ports:
        type: string
      subnet_id:
        type: string
      volumes:
        items:
          $ref: '#/definitions/httphandlers.VolumeAttachmentRequest'
        type: array
      vpc_id:
        type: string
    required:
    - image
    - name
    type: object
  httphandlers.LoginRequest:
    properties:
      email:
        maxLength: 255
        type: string
      password:
        maxLength: 72
        type: string
    required:
    - email
    - password
    type: object
  httphandlers.LoginResponse:
    properties:
      api_key:
        type: string
      user: {}
    type: object
  httphandlers.RegisterRequest:
    properties:
      email:
        maxLength: 255
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
      password:
        maxLength: 72
        minLength: 8
        type: string
    required:
    - email
    - name
    - password
    type: object
  httphandlers.ResetPasswordRequest:
    properties:
      new_password:
        maxLength: 72
        minLength: 8
        type: string
      token:
        type: string
    required:
    - new_password
    - token
    type: object
  httphandlers.RestoreSnapshotRequest:
    properties:
      new_volume_name:
        maxLength: 64
        minLength: 3
        type: string
    required:
    - new_volume_name
    type: object
  httphandlers.VolumeAttachmentRequest:
    properties:
      mount_path:
        type: string
      volume_id:
        type: string
    type: object
  httphandlers.registerImageRequest:
    properties:
      description:
        type: string
      is_public:
        type: boolean
      name:
        type: string
      os:
        type: string
      version:
        type: string
    required:
    - name
    - os
    - version
    type: object
  httputil.Meta:
    properties:
      request_id:
        type: string
      timestamp:
        type: string
    type: object
  httputil.Response:
    properties:
      data: {}
      error: {}
      meta:
        $ref: '#/definitions/httputil.Meta'
    type: object
info:
  contact: {}
paths:
  /api/dashboard/events:
    get:
      description: Gets a list of the latest audit/status events
      parameters:
      - default: 10
        description: Number of events to return
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Event'
            type: array
      security:
      - APIKeyAuth: []
      summary: Get recent events
      tags:
      - dashboard
  /api/dashboard/stats:
    get:
      description: Gets comprehensive counts and aggregated resource information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.DashboardStats'
      security:
      - APIKeyAuth: []
      summary: Get detailed dashboard stats
      tags:
      - dashboard
  /api/dashboard/stream:
    get:
      description: Real-time stream of dashboard summary updates via Server-Sent Events
      produces:
      - text/event-stream
      responses: {}
      security:
      - APIKeyAuth: []
      summary: Stream dashboard updates (SSE)
      tags:
      - dashboard
  /api/dashboard/summary:
    get:
      description: Gets counts for instances, volumes, vpcs, and events
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ResourceSummary'
      security:
      - APIKeyAuth: []
      summary: Get dashboard summary
      tags:
      - dashboard
  /api/v1/images:
    get:
      description: List available images for the current user and public images
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Image'
            type: array
      summary: List images
      tags:
      - Images
    post:
      consumes:
      - application/json
      description: Register a new VM image metadata before uploading the actual file
      parameters:
      - description: Registration Info
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.registerImageRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Image'
      summary: Register a new image
      tags:
      - Images
  /api/v1/images/{id}:
    delete:
      description: Delete an image and its associated file
      parameters:
      - description: Image ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: 'message: image deleted'
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Delete image
      tags:
      - Images
    get:
      description: Get detailed information about a specific image
      parameters:
      - description: Image ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Image'
      summary: Get image detail
      tags:
      - Images
  /api/v1/images/{id}/upload:
    post:
      consumes:
      - multipart/form-data
      description: Upload the actual qcow2 file for a registered image
      parameters:
      - description: Image ID
        in: path
        name: id
        required: true
        type: string
      - description: Image File
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Upload image file
      tags:
      - Images
  /audit:
    get:
      parameters:
      - description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.AuditLog'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: List audit logs
      tags:
      - audit
  /auth/forgot-password:
    post:
      consumes:
      - application/json
      description: Sends a password reset token (logged to console for now)
      parameters:
      - description: Email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.ForgotPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Request password reset
      tags:
      - Auth
  /auth/keys:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.APIKey'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: List API keys
      tags:
      - identity
    post:
      consumes:
      - application/json
      parameters:
      - description: Key creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateKeyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.APIKey'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Create a new API key
      tags:
      - identity
  /auth/keys/{id}:
    delete:
      parameters:
      - description: Key ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Revoke an API key
      tags:
      - identity
  /auth/keys/{id}/regenerate:
    post:
      parameters:
      - description: Key ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.APIKey'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Regenerate an API key
      tags:
      - identity
  /auth/keys/{id}/rotate:
    post:
      parameters:
      - description: Key ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.APIKey'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Rotate an API key
      tags:
      - identity
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate and get an API key
      parameters:
      - description: Credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/httputil.Response'
            - properties:
                data:
                  $ref: '#/definitions/httphandlers.LoginResponse'
              type: object
      summary: Login as a user
      tags:
      - Auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Create a new account on The Cloud
      parameters:
      - description: Registration Info
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            allOf:
            - $ref: '#/definitions/httputil.Response'
            - properties:
                data:
                  $ref: '#/definitions/domain.User'
              type: object
      summary: Register a new user
      tags:
      - Auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: Resets a user's password using a valid token
      parameters:
      - description: Reset Info
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
      tags:
      - Auth
  /autoscaling/groups:
    get:
      description: Gets a list of all auto-scaling groups
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.ScalingGroup'
            type: array
      security:
      - APIKeyAuth: []
      summary: List all scaling groups
      tags:
      - autoscaling
    post:
      consumes:
      - application/json
      description: Creates an auto-scaling group for instances
      parameters:
      - description: ASG creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateGroupRequest'
      - description: Idempotency key
        in: header
        name: Idempotency-Key
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ScalingGroup'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new scaling group
      tags:
      - autoscaling
  /autoscaling/groups/{id}:
    delete:
      description: Removes an auto-scaling group
      parameters:
      - description: ASG ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a scaling group
      tags:
      - autoscaling
    get:
      description: Gets detailed information about a specific auto-scaling group
      parameters:
      - description: ASG ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.ScalingGroup'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get scaling group details
      tags:
      - autoscaling
  /autoscaling/groups/{id}/policies:
    post:
      consumes:
      - application/json
      description: Adds a scaling policy to an auto-scaling group
      parameters:
      - description: ASG ID
        in: path
        name: id
        required: true
        type: string
      - description: Policy creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateASPolicyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.ScalingPolicy'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new scaling policy
      tags:
      - autoscaling
  /autoscaling/policies/{id}:
    delete:
      description: Removes a scaling policy
      parameters:
      - description: Policy ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a scaling policy
      tags:
      - autoscaling
  /billing/summary:
    get:
      parameters:
      - description: Start time (RFC3339)
        in: query
        name: start
        type: string
      - description: End time (RFC3339)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.BillSummary'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: Get billing summary
      tags:
      - billing
  /billing/usage:
    get:
      parameters:
      - description: Start time (RFC3339)
        in: query
        name: start
        type: string
      - description: End time (RFC3339)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.UsageRecord'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/httputil.Response'
      summary: List usage records
      tags:
      - billing
  /health/live:
    get:
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Liveness check
      tags:
      - health
  /health/ready:
    get:
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Service Unavailable
          schema:
            additionalProperties: true
            type: object
      summary: Readiness check
      tags:
      - health
  /iac/stacks:
    get:
      description: Returns all stacks for the user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Stack'
            type: array
      summary: List stacks
      tags:
      - IaC
    post:
      consumes:
      - application/json
      description: Creates a stack from a YAML/JSON template
      parameters:
      - description: Stack details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateStackRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Stack'
      summary: Create a new stack
      tags:
      - IaC
  /iac/stacks/{id}:
    delete:
      description: Deletes a stack and all its resources
      parameters:
      - description: Stack ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
      summary: Delete stack
      tags:
      - IaC
    get:
      description: Returns a single stack by ID
      parameters:
      - description: Stack ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Stack'
      summary: Get stack details
      tags:
      - IaC
  /iac/validate:
    post:
      consumes:
      - application/json
      description: Validates an IaC template without creating a stack
      parameters:
      - description: Template content
        in: body
        name: template
        required: true
        schema:
          type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.TemplateValidateResponse'
      summary: Validate template
      tags:
      - IaC
  /instances:
    get:
      description: Gets a list of all compute instances
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Instance'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List all instances
      tags:
      - instances
    post:
      consumes:
      - application/json
      description: Creates and starts a new compute instance with optional volumes
        and VPC
      parameters:
      - description: Launch request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.LaunchRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/domain.Instance'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Launch a new instance
      tags:
      - instances
  /instances/{id}:
    delete:
      description: Deletes a compute instance and its associated resources
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Terminate an instance
      tags:
      - instances
    get:
      description: Gets detailed information about a specific compute instance
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Instance'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get instance details
      tags:
      - instances
  /instances/{id}/console:
    get:
      description: Gets a VNC URL for the instance console
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get instance console
      tags:
      - instances
  /instances/{id}/logs:
    get:
      description: Gets the console output logs for a compute instance
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - text/plain
      responses:
        "200":
          description: Logs content
          schema:
            type: string
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get instance logs
      tags:
      - instances
  /instances/{id}/stats:
    get:
      description: Gets real-time CPU and Memory usage for a compute instance
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.InstanceStats'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get instance stats
      tags:
      - instances
  /instances/{id}/stop:
    post:
      description: Initiates a graceful shutdown of a compute instance
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Stop an instance
      tags:
      - instances
  /lb:
    get:
      description: Gets a list of all load balancers
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.LoadBalancer'
            type: array
      security:
      - APIKeyAuth: []
      summary: List all load balancers
      tags:
      - loadbalancers
    post:
      consumes:
      - application/json
      description: Creates a new load balancer in a VPC
      parameters:
      - description: LB creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateLBRequest'
      - description: Idempotency key
        in: header
        name: Idempotency-Key
        type: string
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/domain.LoadBalancer'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new load balancer
      tags:
      - loadbalancers
  /lb/{id}:
    delete:
      description: Removes a load balancer and stops associated proxy
      parameters:
      - description: LB ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a load balancer
      tags:
      - loadbalancers
    get:
      description: Gets detailed information about a specific load balancer
      parameters:
      - description: LB ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.LoadBalancer'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get load balancer details
      tags:
      - loadbalancers
  /lb/{id}/targets:
    get:
      description: Gets a list of targets for a load balancer
      parameters:
      - description: LB ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.LBTarget'
            type: array
      security:
      - APIKeyAuth: []
      summary: List all targets for a load balancer
      tags:
      - loadbalancers
    post:
      consumes:
      - application/json
      description: Registers a compute instance to receive traffic from the load balancer
      parameters:
      - description: LB ID
        in: path
        name: id
        required: true
        type: string
      - description: Target details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.AddTargetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/httputil.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Add a target to a load balancer
      tags:
      - loadbalancers
  /lb/{id}/targets/{instanceId}:
    delete:
      description: Deregisters a compute instance from the load balancer
      parameters:
      - description: LB ID
        in: path
        name: id
        required: true
        type: string
      - description: Instance ID
        in: path
        name: instanceId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Remove a target from a load balancer
      tags:
      - loadbalancers
  /rbac/bindings:
    get:
      description: Returns all user-role assignments
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.User'
            type: array
      summary: List role bindings
      tags:
      - RBAC
    post:
      consumes:
      - application/json
      description: Assigns a role to a user
      parameters:
      - description: Binding details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.BindRoleRequest'
      responses:
        "204":
          description: No Content
      summary: Bind role to user
      tags:
      - RBAC
  /rbac/roles:
    get:
      description: Returns all available roles
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Role'
            type: array
      summary: List roles
      tags:
      - RBAC
    post:
      consumes:
      - application/json
      description: Creates a new role with permissions
      parameters:
      - description: Role details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Role'
      summary: Create a new role
      tags:
      - RBAC
  /rbac/roles/{id}:
    delete:
      description: Deletes a role by ID
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
      summary: Delete role
      tags:
      - RBAC
    get:
      description: Returns a single role by ID or Name
      parameters:
      - description: Role ID or Name
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Role'
      summary: Get role details
      tags:
      - RBAC
    put:
      consumes:
      - application/json
      description: Updates an existing role's description or permissions
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Role details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Role'
      summary: Update role details
      tags:
      - RBAC
  /rbac/roles/{id}/permissions:
    post:
      consumes:
      - application/json
      description: Adds a permission to an existing role
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Permission details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.AddPermissionRequest'
      responses:
        "204":
          description: No Content
      summary: Add permission to role
      tags:
      - RBAC
  /rbac/roles/{id}/permissions/{permission}:
    delete:
      consumes:
      - application/json
      description: Removes a permission from an existing role
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Permission name
        in: path
        name: permission
        required: true
        type: string
      responses:
        "204":
          description: No Content
      summary: Remove permission from role
      tags:
      - RBAC
  /security-groups:
    get:
      description: Lists all security groups for a VPC
      parameters:
      - description: VPC ID
        in: query
        name: vpc_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.SecurityGroup'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List security groups
      tags:
      - security-groups
    post:
      consumes:
      - application/json
      description: Creates a new security group in a VPC
      parameters:
      - description: Create request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateSecurityGroupRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.SecurityGroup'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create security group
      tags:
      - security-groups
  /security-groups/{id}:
    delete:
      description: Deletes a security group
      parameters:
      - description: Security Group ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete security group
      tags:
      - security-groups
    get:
      description: Gets details of a specific security group
      parameters:
      - description: Security Group ID
        in: path
        name: id
        required: true
        type: string
      - description: VPC ID (optional if ID is UUID)
        in: query
        name: vpc_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.SecurityGroup'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get security group
      tags:
      - security-groups
  /security-groups/{id}/rules:
    post:
      consumes:
      - application/json
      description: Adds a new rule to a security group
      parameters:
      - description: Security Group ID
        in: path
        name: id
        required: true
        type: string
      - description: Rule details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.SecurityRule'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.SecurityRule'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Add security rule
      tags:
      - security-groups
  /security-groups/attach:
    post:
      consumes:
      - application/json
      description: Associates a security group with a compute instance
      parameters:
      - description: Attach details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.AttachDetachSGRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Attach security group
      tags:
      - security-groups
  /security-groups/detach:
    post:
      consumes:
      - application/json
      description: Removes a security group association from a compute instance
      parameters:
      - description: Detach details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.AttachDetachSGRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Detach security group
      tags:
      - security-groups
  /security-groups/rules/{rule_id}:
    delete:
      description: Deletes a specific security rule by ID
      parameters:
      - description: Rule ID
        in: path
        name: rule_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Remove security rule
      tags:
      - security-groups
  /snapshots:
    get:
      description: Gets a list of all existing snapshots for the user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Snapshot'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List all snapshots
      tags:
      - snapshots
    post:
      consumes:
      - application/json
      description: Creates a point-in-time snapshot of an existing volume
      parameters:
      - description: Snapshot creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateSnapshotRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Snapshot'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new snapshot
      tags:
      - snapshots
  /snapshots/{id}:
    delete:
      description: Removes a snapshot and its stored data
      parameters:
      - description: Snapshot ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a snapshot
      tags:
      - snapshots
    get:
      description: Gets detailed information about a specific snapshot
      parameters:
      - description: Snapshot ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Snapshot'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get snapshot details
      tags:
      - snapshots
  /snapshots/{id}/restore:
    post:
      consumes:
      - application/json
      description: Creates a new volume using data from a snapshot
      parameters:
      - description: Snapshot ID
        in: path
        name: id
        required: true
        type: string
      - description: Restore request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.RestoreSnapshotRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Volume'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Restore snapshot to volume
      tags:
      - snapshots
  /storage/{bucket}:
    get:
      description: Gets a list of all objects within a specific bucket
      parameters:
      - description: Bucket name
        in: path
        name: bucket
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Object'
            type: array
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List objects in a bucket
      tags:
      - storage
  /storage/{bucket}/{key}:
    delete:
      description: Removes an object from the specified bucket
      parameters:
      - description: Bucket name
        in: path
        name: bucket
        required: true
        type: string
      - description: Object key
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete an object
      tags:
      - storage
    get:
      description: Streams the specified object as an attachment
      parameters:
      - description: Bucket name
        in: path
        name: bucket
        required: true
        type: string
      - description: Object key
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: Object content
          schema:
            type: file
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Download an object
      tags:
      - storage
    put:
      consumes:
      - application/octet-stream
      description: Uploads a file/object to the specified bucket and key
      parameters:
      - description: Bucket name
        in: path
        name: bucket
        required: true
        type: string
      - description: Object key
        in: path
        name: key
        required: true
        type: string
      - description: File to upload
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Object'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Upload an object
      tags:
      - storage
  /volumes:
    get:
      description: Gets a list of all existing block storage volumes
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Volume'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List all volumes
      tags:
      - volumes
    post:
      consumes:
      - application/json
      description: Creates a new block storage volume
      parameters:
      - description: Volume creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/httphandlers.CreateVolumeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Volume'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new volume
      tags:
      - volumes
  /volumes/{id}:
    delete:
      description: Removes a block storage volume
      parameters:
      - description: Volume ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a volume
      tags:
      - volumes
    get:
      description: Gets detailed information about a specific block storage volume
      parameters:
      - description: Volume ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Volume'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get volume details
      tags:
      - volumes
  /vpcs:
    get:
      description: Gets a list of all existing VPCs
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.VPC'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: List all VPCs
      tags:
      - vpcs
    post:
      consumes:
      - application/json
      description: Creates a new virtual private cloud network
      parameters:
      - description: VPC creation request
        in: body
        name: request
        required: true
        schema:
          properties:
            name:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.VPC'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Create a new VPC
      tags:
      - vpcs
  /vpcs/{id}:
    delete:
      description: Removes a VPC network (must be empty of instances)
      parameters:
      - description: VPC ID or Name
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/httputil.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Delete a VPC
      tags:
      - vpcs
    get:
      description: Gets detailed information about a specific VPC
      parameters:
      - description: VPC ID or Name
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.VPC'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/httputil.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/httputil.Response'
      security:
      - APIKeyAuth: []
      summary: Get VPC details
      tags:
      - vpcs
swagger: "2.0"
